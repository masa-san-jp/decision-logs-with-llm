# プロジェクト議事録：ローカルLLMによる自律型エージェントチーム構築

**日付:** 202X年X月X日
**参加者:** User, Gemini
**トピック:** Claude Code "Agent Teams" のローカル環境での再現と拡張

## 1. 概要
本会議では、Claude Codeが持つ「Agent Teams（エージェントチーム）」の仕組みを、Ollamaを用いたローカルLLM環境で再現、およびユーザーのハードウェア環境に最適化して拡張する方法について議論した。

最終的な目標は、**「The Council（評議会）」**による多角的な議論・計画策定と、**「The Factory（工場）」**による実装・テスト・修正の完全自動化サイクルを構築することである。

## 2. ハードウェア環境とリソース配分
議論の結果、以下のハードウェア構成を前提とした分散アーキテクチャを採用する。

| マシン名 | スペック | 役割 | 推奨モデル |
| :--- | :--- | :--- | :--- |
| **MacBook Pro M4** | **RAM 128GB** | **指揮・頭脳 (Brain)**<br>計画策定、コードレビュー、オーケストレーション | **Llama 3.3 70B**<br>(or Qwen 2.5 72B) |
| **ASUS GX10** | (Windows想定) | **手足・実行 (Muscle)**<br>コード生成、実行、テスト、サンドボックス | **gpt-oss-20b**<br>(ユーザー愛用モデル) |

**決定事項:**
* Macの豊富なメモリ（128GB）を活かし、司令塔には70Bクラスの「非常に賢いモデル」を採用する。
* ASUSは実行環境として分離し、ネットワーク経由でMacから制御することで、セキュリティと負荷分散を両立する。

## 3. アーキテクチャ設計：The Council & The Factory

システムを以下の2つのフェーズに分割して実装する構想（通称：「妄想」アーキテクチャ）が承認された。

### Phase 1: The Council（評議会）
ユーザーの曖昧なアイデアを具体的な仕様に落とし込むための合議制システム。
* **場所:** MacBook Pro (Streamlit + LangGraph)
* **構成員:**
    1.  **Pragmatist (現実主義者):** 実現可能性重視
    2.  **Visionary (理想主義者):** ビジョン・革新性重視
    3.  **Efficiency Expert (効率主義者):** 無駄の排除
    4.  **Risk Manager (管理主義者):** 安全性重視
* **プロセス:** 4者が議論 → ユーザーへ質問 → 再議論（3回以上） → 合意形成 → 仕様書・テスト設計の出力

### Phase 2: The Factory（工場）
仕様書に基づき、実際に動作するプロダクトを作り上げる実働部隊。
* **場所:** ASUS (実行) + Mac (監督)
* **構成員:**
    * **Coder:** コード記述 (ASUS)
    * **Tester:** テスト実行・ログ収集 (ASUS)
    * **Reviewer:** ログ解析・仕様照合 (Mac)
    * **Re-planner:** 修正指示 (Mac)
* **プロセス:** 実装 → テスト → エラー解析 → 修正計画 → 再実装 の自律ループ

## 4. 採用技術スタック
* **LLM実行エンジン:** Ollama (Mac & ASUS両方)
* **オーケストレーション:** LangGraph (Python)
    * 理由: 循環ループ、条件分岐、状態管理（State Management）が必須であるため。
* **UIフレームワーク:** Streamlit
    * 理由: Mac上で動作させ、LAN内のスマートフォンからアクセスして指示出し・承認を行うため。

## 5. 今後のアクションプラン
1.  **プロトタイプ作成:** まず「The Council（評議会）」部分をMac上で実装する。
2.  **ネットワーク接続:** ASUS側のOllamaを外部公開設定し、Macからの疎通確認を行う。
3.  **統合:** 評議会で承認されたプラン（Markdown）をトリガーに、工場のワークフローを起動する接続部分を開発する。

## 6. 別添資料
* `Attachment_1_Basic_Local_Structure.md`: 基本的なローカルエージェントの構造
* `Attachment_2_Distributed_System.md`: MacとASUSを連携させる分散コード
* `Attachment_3_The_Council_Concept.md`: 評議会とスマホ連携の概念コード
